<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<app-header></app-header>
<div class="video-app">
  <div class="wrapper">
    <div class="main-container">
      <div class="profile banner">
        <img src="{{canal.banner}}" alt="" class="profile-cover">
        <div class="profile-contact-info">

          <div class="profile-contact" (click)="openModel1()">
            <svg viewBox="0 0 515.6 515.6" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M496.7 212.2a64.4 64.4 0 11-91.2 91.1 64.4 64.4 0 0191.2-91M303.3 212.2a64.4 64.4 0 11-91 91.1 64.4 64.4 0 0191-91M110 212.2A64.4 64.4 0 1119 303.3a64.4 64.4 0 0191.1-91" /></svg>
          </div>

          <div class="modal" id="editarCanal">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content login-box">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="editarCanal2">Edita tu canal </h1>
                  <button type="button" class="btn-close" (click)="CloseModel1()" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body user-box">
                  <label>Nombre: </label>
                  <input [value]="canal.nombre" [(ngModel)]="canal.nombre">
                </div>
                <div class="modal-body user-box">
                  <label>Apellidos: </label>
                  <input [value]="canal.apellidos" [(ngModel)]="canal.apellidos">
                </div>
                <div class="modal-body user-box">
                  <label>Descripcion: </label>
                  <input [value]="canal.descripcion" [(ngModel)]="canal.descripcion">
                </div>
                <div class="modal-body user-box">
                  <label>Teléfono de contacto: </label>
                  <input [value]="canal.telefono" [(ngModel)]="canal.telefono">
                </div>
                <div class="modal-body user-box">
                  <label>Fecha de nacimiento: (DD/MM/YYYY) </label>
                  <input [value]="canal.fechaNacimiento" [(ngModel)]="canal.fechaNacimiento">
                </div>
                <div class="modal-body user-box">
                  <label>Banner: </label>
                  <input [value]="canal.banner" [(ngModel)]="canal.banner">
                </div>
                <div class="modal-body user-box">
                  <label>Foto de perfil: </label>
                  <input [value]="canal.foto" [(ngModel)]="canal.foto">
                </div>
                <div class="modal-body user-box"  >
                  <label >Tipo de contenido: </label>
                  <select class="ab" [value]="canal.tiposContenido" [(ngModel)]="canal.tipoContenido">
                    <option *ngFor="let t of tiposContenidoCanal" >{{t.nombre}}</option>
                    <input [value]="canal.tiposContenido">
                  </select>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="CloseModel1()">Cerrar</button>
                  <button type="button" class="btn btn-danger" (click)="editarCanal()">Editar</button>
                </div>
              </div>
            </div>
          </div>
        </div>


        <div class="profile-info">
          <div class="profile-item">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 469.33 469.33">
              <path d="M234.67 170.67c-35.31 0-64 28.69-64 64s28.69 64 64 64 64-28.7 64-64-28.7-64-64-64z" />
              <path d="M234.67 74.67C128 74.67 36.9 141 0 234.67c36.9 93.65 128 160 234.67 160 106.77 0 197.76-66.35 234.66-160-36.9-93.66-127.89-160-234.66-160zm0 266.66c-58.88 0-106.67-47.78-106.67-106.66S175.79 128 234.67 128s106.66 47.79 106.66 106.67-47.78 106.66-106.66 106.66z" /></svg>
            {{numeroVisitas}} Visitas Totales
          </div>
          <div class="profile-item">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 411.14 411.14">
              <path d="M350.2 54.53H61.45C27.64 54.53 0 82.18 0 115.97v179.2c0 33.8 27.65 61.44 61.44 61.44H349.7c33.79 0 61.44-27.65 61.44-61.44v-179.2c.5-33.8-27.14-61.44-60.93-61.44zM287.75 210.7a11.96 11.96 0 01-3.58 3.59l-119.3 70.65a9.93 9.93 0 01-13.82-3.58 8.65 8.65 0 01-1.54-5.12V134.92c0-5.64 4.61-10.24 10.24-10.24 1.54 0 3.59.5 5.12 1.53l119.3 70.66c4.6 3.07 6.66 9.21 3.58 13.82z" /></svg>
            {{ numeroVideosSubidos }} Vídeos Subidos
          </div>
          <div class="profile-item">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 411.14 411.14">
              <path d="M350.2 54.53H61.45C27.64 54.53 0 82.18 0 115.97v179.2c0 33.8 27.65 61.44 61.44 61.44H349.7c33.79 0 61.44-27.65 61.44-61.44v-179.2c.5-33.8-27.14-61.44-60.93-61.44zM287.75 210.7a11.96 11.96 0 01-3.58 3.59l-119.3 70.65a9.93 9.93 0 01-13.82-3.58 8.65 8.65 0 01-1.54-5.12V134.92c0-5.64 4.61-10.24 10.24-10.24 1.54 0 3.59.5 5.12 1.53l119.3 70.66c4.6 3.07 6.66 9.21 3.58 13.82z" /></svg>
            <a (click)="openModelSuscriptores()">{{ numeroSuscriptores }} Suscriptores</a>

            <div class="modal c" id="modalSuscriptores">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="examplefaModalLabel">Suscriptores de {{canal.nombre}} {{canal.apellidos}}</h1>
                    <button type="button" class="btn-close" (click)="Closesuscriptores()" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body suscriptores" *ngFor="let sus of suscriptoresCanal">
                    <div class="suno">
                      <a><img src="{{sus.foto}}"></a>
                      <a>{{sus.nombre}}</a>
                      <a>{{sus.apellidos}}</a>
                    </div>
                    <div class="sdos"><a class="fecha"><b>{{sus.fecha.slice(0,10)}}</b></a></div>
                  </div>
                </div>
              </div>
            </div>


          </div>
        </div>
        <div class="profile-menu" id="profilemenu">
          <div class="profile-avatar">
            <img class="profile-img" src="{{canal.foto}}" alt="">
            <div class="profile-name">{{canal.nombre}}</div>
          </div>
          <div class="menu-items">
            <a class="profile-menu-link blanco">Vídeos</a>
            <a class="profile-menu-link">Listas</a>
            <a class="profile-menu-link" (click)="openModel()">Información</a>

            <div class="modal c" id="myModal" >
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Canal de {{canal.nombre}} {{canal.apellidos}}</h1>
                    <button type="button" class="btn-close" (click)="CloseModel()" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    {{canal.descripcion}}
                  </div>
                  <div class="modal-body">
                    Tipo de contenido: {{canal.tipoContenido.nombre}}
                  </div>
                  <div class="modal-body">
                    Fecha de nacimiento: {{canal.fechaNacimiento}}
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div class="follow-buttons">
            <button class="follow suscriptores" [routerLink]="['/safaTube/micanal/estadisticas']">Estadísticas</button>
          </div>
        </div>
      </div>
      <div class="trends filtrocanal">
        <div class="follow-buttons">
          <div class="opciones" *ngIf="recientes == true; else popu">
            <button class="follow blanco">Más Recientes</button>
            <button class="follow follow-option active" (click)="verPopulares()">Populares</button>
            <button class="follow follow-option active" (click)="verSuscriptores()">Para Suscriptores</button>
          </div>
          <ng-template #popu>
            <div class="opciones" *ngIf="populares == true;else subs">
            <button class="follow follow-option active" (click)="verRecientes()">Más Recientes</button>
              <button class="follow blanco">Populares</button>
              <button class="follow follow-option active" (click)="verSuscriptores()">Para Suscriptores</button>
            </div>
            <ng-template #subs>
              <div class="opciones" *ngIf="soloSubs == true">
                <button class="follow follow-option active" (click)="verRecientes()">Recientes</button>
                <button class="follow follow-option active" (click)="verPopulares()">Populares</button>
                <button class="follow blanco">Para Suscriptores</button>
              </div>
            </ng-template>
          </ng-template>
        </div>
      </div>
        <div class="container py-5">
          <div class="row">
            <div class="col-12 col-md-12 col-lg-3 my-3" *ngFor="let v of videos" [routerLink]="['/safaTube/video', v.id]">
              <div class="video-card w-100 rounded shadow position-relative" [style.background-image]="'url(' + v.miniatura + ')'"
                   style="background-size: cover; background-position: center bottom; background-repeat: no-repeat;">
                <div class="video-title position-absolute text-white p-3 p-xl-4">
                  <div class="font-weight-bold pb-2">
                    {{v.titulo}}
                  </div>
                  <div class="small">
                    <img src="{{v.foto_canal}}">{{v.nombre_canal}}
                  </div>
                </div>
                <div class="hover text-white">
                </div>
              </div>
            </div>

          </div>
        </div>

    </div>
  </div>
</div>
